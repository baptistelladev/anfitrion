<ion-header
mode="ios"
class="ion-no-border">
  <ion-toolbar
  mode="ios"
  class="ion-bg-white no-ion-padding">
    <ion-grid [fixed]="true">
      <ion-row>
        <ion-col size="12">
          <div class="header-container">
            <div class="back-btn-wrapper">
              <ion-button
              (click)="back()"
              [title]="'SHARED.BACK' | translate"
              class="back ion-color-gray-text back-btn no-ion-padding font-baloo"
              fill="clear">
                <ion-icon name="chevron-back-outline"></ion-icon>
              </ion-button>
            </div>

            <div class="language-container">
              <rgs-language-button
              [currentLanguage]="currentLanguage">
              </rgs-language-button>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content
[forceOverscroll]="false">
  <section class="esqueci-minha-senha">
    <form
    [formGroup]="formForgotPassword"
    (ngSubmit)="recover()"
    class="esqueci-minha-senha-wrapper">
      <ion-grid [fixed]="true">
        <ion-row>
          <ion-col size="12">
            <ion-text
            class="txt-center color-gray-text full-width icon-title-text"
            mode="ios">
              <ion-icon
              name="mail-outline"
              class="full-width fs-32 animate__animated animate__fadeInUp">
              </ion-icon>

              <h2 class="font-baloo">
                {{ 'FORGOT_PASSWORD_PAGE.TITLE.0' | translate }} <span class="font-w-bold txt-lowercase">{{ 'FORGOT_PASSWORD_PAGE.TITLE.1' | translate }}</span>
              </h2>

              <p class="fs-16">
                {{ 'FORGOT_PASSWORD_PAGE.TEXT' | translate }}
              </p>
            </ion-text>
          </ion-col>

          <ion-col size="12">
            <div
            [ngClass]="{
            'has-error' : (formForgotPassword.get('email')?.invalid &&
            (formForgotPassword.get('email')?.touched ||
            formForgotPassword.get('email')?.dirty))}"
            class="rgs-input-wrapper full-width white-background-item label-w-white mg-top-16">
              <ion-item
              lines="none"
              mode="ios">
                <ion-input
                [placeholder]="'INPUTS.EMAIL' | translate"
                enterkeyhint="send"
                mode="ios"
                formControlName="email"
                type="email"
                inputmode="email">
                </ion-input>
              </ion-item>

              <ion-text
              mode="ios"
              class="mg-top-8 d-block"
              *ngIf="
              formForgotPassword.get('email')?.invalid &&
              (formForgotPassword.get('email')?.touched || formForgotPassword.get('email')?.dirty)">
                <p
                *ngIf="formForgotPassword.get('email')?.hasError('required')"
                class="fs-12 color-danger">
                  {{ 'ERRORS.REQUIRED_FIELD' | translate }}
                </p>

                <p
                *ngIf="formForgotPassword.get('email')?.hasError('email')"
                class="fs-12 color-danger">
                  {{ 'ERRORS.EMAIL_INVALID' | translate }}
                </p>
              </ion-text>
            </div>
          </ion-col>

          <ion-col size="12">
            <ion-button
            (click)="recover()"
            [disabled]="isRecovering || formForgotPassword.invalid"
            [title]="('FORGOT_PASSWORD_PAGE.BTN.0' | translate) + ' ' + ('FORGOT_PASSWORD_PAGE.BTN.1' | translate)"
            type="submit"
            shape="round"
            class="anf-main-solid full-width fs-14 height-44 mg-top-16"
            mode="md">
              <ng-container *ngIf="!isRecovering">
                <ion-icon name="send-outline" class="mg-right-8 fs-18"></ion-icon> <b class="mg-right-5">{{ 'FORGOT_PASSWORD_PAGE.BTN.0' | translate }}</b> {{ 'FORGOT_PASSWORD_PAGE.BTN.1' | translate }}
              </ng-container>

              <ng-container *ngIf="isRecovering">
                <ion-spinner name="dots"></ion-spinner>
              </ng-container>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </section>
</ion-content>
